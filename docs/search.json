[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Gender Difference accross country and time",
    "section": "",
    "text": "1 Introduction\nGender equality is a more and more important issue these days. Whether men and women are treated equally in society is receives a wide discussion and one major way to contribute to it is doing exploratory research from historical data on gender difference. In this project, we will analyze gender difference in the field of Education, Employment and Health, through different countries and time. The main problem of this project include: Is there gender difference in employment, health and education data? If there is, how does this difference change in different countries? Besides, how does this difference change through history?",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nIn this project, we will use the data focused on 7 countries: Canada, France, Germany, Italy, Japan, United Kingdom and United States. There are four sources of data. For employment data, the source is International Labour Organization. “ILO modelled estimates database” ILOSTAT. https://ilostat.ilo.org/data/. The data is collected from the underlying household survey datasets (mostly labour force surveys) compiled by national statistical offices around the world. For health data, the source is United Nations Children’s Fund. “UN Inter-agency Group for Child Mortality Estimation”, https://childmortality.org/ The data is mainly collected from civil registration and surveys. For education data, the source is United Nations Educational, Scientific and Cultural Organization,“SDG Global and Thematic Indicators” https://uis.unesco.org/bdds. The data is collected from the respond of UIS questionnaires by national state authorities, usually the ministry of education or the national statistical office. Finally, for population data, the source is United Nations, “World Population Prospects”, https://population.un.org/wpp/Download/Standard/MostUsed/. It is collected through civil registration and vital statistics (CRVS) systems, population censuses, population registers and household surveys.All of these data are in csv format and updated annually. One issue related to these data, like population data and education data, is that it includes the estimate of data in the future, so the time exceed the current year, 2024. Since we are only making an exploratory analysis, not an estimate or model, so we exclude these data and limit the time from 2000 to 2024.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n\nCode\noptions(packageStartupMessage = FALSE)\nsuppressMessages(library(tidyr))\nsuppressMessages(library(dplyr))\nlibrary(ggplot2)\nsuppressWarnings(library(tidyverse))\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ readr     2.1.5\n✔ lubridate 1.9.3     ✔ stringr   1.5.1\n✔ purrr     1.0.2     ✔ tibble    3.2.1\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nCode\nlibrary(readr)\n\n# Data Source [United Nations]: https://population.un.org/wpp/Download/Standard/CSV/\ndemographic_data &lt;- read_csv(\"Demographic_data.csv\",show_col_types = FALSE)\n\n# Select only G7 countries for downstream analysis\nG7_countries &lt;- c(\"United States of America\", \"Canada\", \"United Kingdom\", \"France\", \"Germany\", \"Italy\", \"Japan\")\n\n# Filter Conditions: historical data to 2023, columns with gender specification\ng7_data_filtered &lt;- demographic_data[\n  demographic_data$Location %in% G7_countries & \n    demographic_data$Time &lt;= 2023, # \n  c(\"Location\", \"Time\", \n    grep(\"Female\", colnames(demographic_data), value = TRUE), \n    grep(\"Male\", colnames(demographic_data), value = TRUE))\n]\n\n\ninvisible(colSums(is.na(g7_data_filtered)) |&gt;\nsort(decreasing = TRUE))\n\ninvisible(rowSums(is.na(g7_data_filtered)) |&gt;\nsort(decreasing = TRUE))\n\n\ng7_data_filtered &lt;- g7_data_filtered %&gt;%\n  mutate(across(-c(Location, Time), as.character))\n  \n  \ntidy_data &lt;- g7_data_filtered |&gt;\n  pivot_longer(\n    cols = -c(Location, Time),  # Exclude \"Location\" and \"Time\" from pivoting\n    names_to = \"Variable\",\n    values_to = \"Value\") |&gt;\n  mutate(Missing = ifelse(is.na(Value), \"yes\", \"no\")) \n  \n\nggplot(tidy_data, aes(x = Variable, y = Time, fill = Missing)) +\n  geom_tile(color = \"white\") +\n  scale_fill_manual(values = c(\"no\" = \"purple\", \"yes\" = \"yellow\")) +  \n  labs(\n    title = \"Heatmap of Missing Values in Demographic Data\",\n    x = \"Variables\",\n    y = \"Time\",\n    fill = \"Missing Data\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1, size = 8),  \n    axis.text.y = element_text(size = 8),                        \n    strip.text = element_text(size = 10)                        \n  ) +\n  facet_wrap(~ Location)\n\n\n\n\n\n\n\n\n\nComment: This population dataset, sourced from the United Nations, was filtered to include G7 countries,Canada, France, Germany, Japan, Italy, the United Kingdom, and the United States, along with data from periods prior to 2023. We also selected gender-related variables to align with our research objectives. In ‘Heatmap of Missing Value in Demographic Data’, we found that there was no missing values, which indicated complete data with no need for data manipulation.\n\n\nCode\n# Data Source [International Labour Organization]: https://ilostat.ilo.org/topics/sdg/#\n#Unemployment by sex and age (thousands): Age is set to Aggregate Total\nunemployment &lt;- read_csv(\"Employment/UNE_TUNE_SEX_AGE_NB_A-filtered-2024-11-20.csv\",show_col_types = FALSE)\n\n#SDG indicator 8.8.1 - Non-fatal occupational injuries per 100'000 workers\nnon_fatal &lt;- read_csv(\"Employment/SDG_N881_SEX_MIG_RT_A-filtered-2024-11-20.csv\",show_col_types = FALSE)\n\n#SDG indicator 8.8.1 - Fatal occupational injuries per 100'000 workers\nfatal &lt;- read_csv(\"Employment/SDG_F881_SEX_MIG_RT_A-filtered-2024-11-20.csv\",show_col_types = FALSE)\n\n#Inactivity rate by sex and age (%): Age is set to Aggregate Total\ninactivity &lt;- read_csv(\"Employment/EIP_DWAP_SEX_AGE_RT_A-filtered-2024-11-20.csv\",show_col_types = FALSE)\n\n#Employment by sex and status in employment (thousands)\nemployment &lt;- read_csv(\"Employment/EMP_TEMP_SEX_STE_NB_A-filtered-2024-11-20.csv\",show_col_types = FALSE)\n\n#Employees by sex and age (thousands): Age is set to Aggregate Total\nemployee&lt;- read_csv(\"Employment/EES_TEES_SEX_AGE_NB_A-filtered-2024-11-20.csv\",show_col_types = FALSE)\n\nemployee_filtered &lt;- employee |&gt;\n  select(\n    Location = ref_area.label,\n    Sex = sex.label,\n    Time = time,\n    Employee = obs_value\n  ) |&gt;\n  mutate(\n    Sex = sub(\".*: \", \"\", Sex)\n  ) \n  \nemployment_filtered &lt;- employment |&gt;\n  select(\n    Location = ref_area.label,\n    Sex = sex.label,\n    Time = time,\n    Employment = obs_value\n  ) |&gt;\n  mutate(\n    Sex = sub(\".*: \", \"\", Sex)\n  )\n  \nfatal_filtered &lt;- fatal |&gt;\n  select(\n    Location = ref_area.label,\n    Sex = sex.label,\n    Time = time,\n    Fatal = obs_value\n  ) |&gt;\n  mutate(\n    Sex = sub(\".*: \", \"\", Sex)\n  )\n  \nnon_fatal_filtered &lt;- non_fatal |&gt;\n  select(\n    Location = ref_area.label,\n    Sex = sex.label,\n    Time = time,\n    NonFatal = obs_value\n  ) |&gt;\n  mutate(\n    Sex = sub(\".*: \", \"\", Sex)\n  )\n  \n#Aggregate bands: Total\nunemployment_filtered &lt;- unemployment |&gt;\n  select(\n    Location = ref_area.label,\n    Sex = sex.label,\n    Time = time,\n    UnemployRate = obs_value\n  ) |&gt;\n  mutate(\n    Sex = sub(\".*: \", \"\", Sex)\n  )\n  \ninactivity_filtered &lt;- inactivity |&gt;\n  select(\n    Location = ref_area.label,\n    Sex = sex.label,\n    Time = time,\n    InactivityRate = obs_value\n  ) |&gt;\n  mutate(\n    Sex = sub(\".*: \", \"\", Sex)\n  )\n  \nmerged_data &lt;- fatal_filtered |&gt;\n  full_join(non_fatal_filtered, by = c(\"Location\", \"Time\", \"Sex\")) |&gt;\n  full_join(unemployment_filtered, by = c(\"Location\", \"Time\", \"Sex\"))|&gt;\n  full_join(employment_filtered, by = c(\"Location\", \"Time\", \"Sex\"))|&gt;\n  full_join(employee_filtered, by = c(\"Location\", \"Time\", \"Sex\"))|&gt;\n  full_join(inactivity_filtered, by = c(\"Location\", \"Time\", \"Sex\"))\n\nlocation_abbreviations &lt;- c(\n  \"Canada\" = \"CA\",\n  \"United States of America\" = \"US\",\n  \"United Kingdom of Great Britain and Northern Ireland\" = \"UK\",\n  \"Germany\" = \"DE\",\n  \"France\" = \"FR\",\n  \"Italy\" = \"IT\",\n  \"Japan\" = \"JP\"\n)\nmerged_data$Location &lt;- location_abbreviations[merged_data$Location]\n\nmerged_data &lt;- merged_data %&gt;%\n  mutate(across(-c(Location, Time), as.character))\n\ntidy_merge &lt;- merged_data |&gt;\n  pivot_longer(\n    cols = -c(Location, Time),  \n    names_to = \"Variable\",\n    values_to = \"Value\") |&gt;\n  mutate(Missing = ifelse(is.na(Value), \"yes\", \"no\"))\n  \nggplot(tidy_merge, aes(x = Variable, y = Time, fill = Missing)) +\n  geom_tile(color = \"white\") +\n  scale_fill_manual(values = c(\"no\" = \"purple\", \"yes\" = \"yellow\")) + \n  labs(\n    title = \"Heatmap of Missing Values in Employment Data\",\n    x = \"Variables\",\n    y = \"Time\",\n    fill = \"Missing Data\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1, size = 8),  \n    axis.text.y = element_text(size = 8),                        \n    strip.text = element_text(size = 10)                        \n  ) +\n  facet_wrap(~ Location)\n\n\n\n\n\n\n\n\n\nComment: This data was sourced from International Labour Organization to visualized the gender difference in employment topic. We retrieved 6 different dataset and combined into one after manipulation. In ‘Heatmap of Missing Value in Employment Data’, we found that time ranges for seven countries varied, missing values were more prominent in the earlier decade, and variables - Fatal and NonFatal- had much more missing values than others. Hence, for our downstream analysis, we may apply the methods like imputation and wisely pick a time range.\n\n\nCode\nsuppressMessages(suppressWarnings( library(mi)))\nsuppressWarnings(merged_data&lt;-as.data.frame(merged_data))\n\nsuppressWarnings(x &lt;- missing_data.frame(merged_data))\n\n\nNOTE: In the following pairs of variables, the missingness pattern of the second is a subset of the first.\n Please verify whether they are in fact logically distinct variables.\n      [,1]         [,2]            \n [1,] \"Fatal\"      \"UnemployRate\"  \n [2,] \"Fatal\"      \"Employment\"    \n [3,] \"Fatal\"      \"Employee\"      \n [4,] \"Fatal\"      \"InactivityRate\"\n [5,] \"NonFatal\"   \"UnemployRate\"  \n [6,] \"NonFatal\"   \"Employment\"    \n [7,] \"NonFatal\"   \"Employee\"      \n [8,] \"NonFatal\"   \"InactivityRate\"\n [9,] \"Employment\" \"InactivityRate\"\n[10,] \"Employee\"   \"InactivityRate\"\n\n\nCode\nimage(x)\n\n\n\n\n\n\n\n\n\nComment, combined with this Missing Data Heatmap, we can further ensure our thoughts that Fatal and NonFatal requires further manipulation. Otherwise, analyses focusing on earlier periods in regards to these two variables may face limitations due to incomplete data. Besides, missingness in other variables is not that prominent, but we need to figure out if it is random to avoid biases.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  }
]